{
  "name": "gulp-umd",
  "version": "0.1.3",
  "description": "Gulp plugin for build JavaScript files as Universal Module Definition, aka UMD.",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git://github.com/eduardolundgren/gulp-umd"
  },
  "author": {
    "name": "Eduardo Lundgren",
    "email": "edua@rdo.io",
    "url": "http://eduardo.io"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "main": "./index.js",
  "scripts": {
    "test": "nodeunit test/test.js"
  },
  "keywords": [
    "amd",
    "commonjs",
    "gulpplugin",
    "umd",
    "wrap"
  ],
  "dependencies": {
    "event-stream": "^3.1.7",
    "gulp": "^3.8.8",
    "gulp-util": "^3.0.1",
    "lodash.template": "^2.4.1",
    "nodeunit": "^0.9.0"
  },
  "readme": "gulp-umd\n============\n\n[![Build Status](http://img.shields.io/travis/eduardolundgren/gulp-umd.svg?style=flat)](https://travis-ci.org/eduardolundgren/gulp-umd)\n\nThis repository provides a simple way to build your files with support for the design and implementation of the Universal Module Definition (UMD) API for JavaScript modules. These are modules which are capable of working everywhere, be it in the client, on the server or elsewhere.\n\nThe UMD pattern typically attempts to offer compatibility with the most popular script loaders of the day (e.g RequireJS amongst others). In many cases it uses [AMD](https://github.com/amdjs/amdjs-api/wiki/AMD) as a base, with special-casing added to handle [CommonJS](http://wiki.commonjs.org/wiki/CommonJS) compatibility.\n\n## Variations\n\n### Regular Module\n\n* [returnExports.js](https://github.com/umdjs/umd/blob/master/returnExports.js) -\n  Defines a module that works in Node, AMD and browser globals. If you also want\n  to export a global even when AMD is in play (useful if you are loading other\n  scripts that still expect that global), use\n  [returnExportsGlobal.js](https://github.com/umdjs/umd/blob/master/returnExportsGlobal.js).\n\nSee more variantion options that can be added as [templates onto this project](https://github.com/eduardolundgren/gulp-umd/tree/master/templates) on the [UMD (Universal Module Definition) patterns](https://github.com/umdjs/umd).\n\n## Options\n\nThe following options are the ones available with the current default values:\n\n```js\n{\n  dependencies: function() {\n    return [];\n  },\n  exports: function(file) {\n    return capitalizeFilename(file);\n  },\n  namespace: function(file) {\n    return capitalizeFilename(file);\n  },\n  template: path.join(__dirname, 'templates/returnExports.js')\n}\n```\n\n## Examples\n\n#### Build a simple module\n\nLet's wrap `src/foo.js` file with UMD definition:\n\n```js\n'use strict';\nfunction Foo() {}\n```\n\nThen, in the gulp task:\n\n```js\ngulp.task('umd', function() {\n  return gulp.src('src/*.js')\n    .pipe(umd())\n    .dest('build');\n});\n```\n\nAfter build `build/foo.js` will look like:\n\n```js\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Foo = factory();\n  }\n}(this, function() {\n'use strict';\n  function Foo() {}\n  return Foo;\n}));\n```\n\nNote that by default the filename `foo.js` is uppercased and will be used as the return exports for your module and also for the global namespace, in this case `root.Foo`. This is configurable, see the advanced build section below.\n\n#### Build with dependencies\n\nLet's wrap `src/foo.js` file with UMD definition defining some dependencies:\n\n```js\n'use strict';\nfunction Foo() {}\n```\n\nThen, in the gulp task:\n\n```js\ngulp.task('umd', function() {\n  return gulp.src('src/*.js')\n    .pipe(umd({\n        dependencies: function() {\n          return [\n            {\n              name: 'moduleName1',\n              amd: 'moduleName1_amd',\n              cjs: 'moduleName1_cjs',\n              global: 'moduleName1_glob',\n              param: 'moduleName1'\n            },\n            {\n              name: 'moduleName2',\n              amd: 'moduleName2_amd',\n              cjs: 'moduleName2_cjs',\n              global: 'moduleName2_glob',\n              param: 'moduleName2'\n            }\n          ];\n        }\n      }))\n    .dest('build');\n});\n```\n\nAfter build `build/foo.js` will look like:\n\n```js\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['moduleName1_amd', 'moduleName2_amd'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('moduleName1_cjs'), require('moduleName2_cjs'));\n  } else {\n    root.Foo = factory(root.moduleName1_glob, root.moduleName2_glob);\n  }\n}(this, function(moduleName1, moduleName2) {\n'use strict';\n  function Foo() {}\n  return Foo;\n}));\n```\n\nThe advanced configuration for the dependencies allows you to have full control of how your UMD wrapper should handle dependency names.\n\n#### Advanced build\n\nLet's wrap `src/foo.js` file with UMD definition and exports the `Foo.Bar` class:\n\n```js\n'use strict';\nfunction Foo() {};\nFoo.Bar = function() {};\n```\n\nThen, in the gulp task:\n\n```js\ngulp.task('umd', function() {\n  return gulp.src('src/*.js')\n    .pipe(umd({\n      exports: function(file) {\n          return 'Foo.Bar';\n        },\n        namespace: function(file) {\n          return 'Foo.Bar';\n        }\n    }))\n    .dest('build');\n});\n```\n\nAfter build `build/foo.js will look like:\n\n```js\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Foo.Bar = factory();\n  }\n}(this, function() {\n'use strict';\n  function Foo() {};\n  Foo.Bar = function() {};\n  return Foo.Bar;\n}));\n```\n\n## Templates\n\nIn order to use any of the variations defined on the [UMD (Universal Module Definition) patterns](https://github.com/umdjs/umd) repository you can use the following template keys:\n\n* `<%= amd %>`: Contains the AMD normalized values from the options dependencies array, e.g. `['a', 'b']` turns into `['a', 'b']`.\n* `<%= cjs %>`: Contains the CommonJS normalized values from the options dependencies array, e.g. `['a', 'b']` turns into `require('a'), require('b')`.\n* `<%= global %>`: Contains the browser globals normalized values from the options dependencies array, e.g. `['a', 'b']` turns into `root.a, root.b`.\n* `<%= namespace %>`: The namespace where the exported value is going to be set on the browser, e.g. `root.Foo.Bar`.\n* `<%= exports %>`: What the module should return, e.g. `Foo.Bar`. By default it returns the filename with uppercase without extension, e.g. `foo.js` returns `Foo`.\n\n## Contributing\n\n1. Fork it!\n2. Create your feature branch: `git checkout -b my-new-feature`\n3. Commit your changes: `git commit -m 'Add some feature'`\n4. Push to the branch: `git push origin my-new-feature`\n5. Submit a pull request :D\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/eduardolundgren/gulp-umd/issues"
  },
  "homepage": "https://github.com/eduardolundgren/gulp-umd",
  "_id": "gulp-umd@0.1.3",
  "_shasum": "a2d2faeaa7655cbfedf7625d3cfdf7363db3dfd4",
  "_from": "gulp-umd@",
  "_resolved": "https://registry.npmjs.org/gulp-umd/-/gulp-umd-0.1.3.tgz"
}
